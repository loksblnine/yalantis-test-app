(this["webpackJsonpyalantis-test-app"]=this["webpackJsonpyalantis-test-app"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),i=a.n(r),s=(a(21),a(16)),o=(a(22),a(6)),l=a(5),d="SET_DATA",u="SET_ACTIVE_USERS",j="ADD_ACTIVE_USER",m="REMOVE_ACTIVE_USER",b="dataStorage",v=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],f="activeUsers",h=l.months(),O=l().month(),p=[].concat(Object(o.a)(h.slice(O)),Object(o.a)(h.slice(0,O))),y=a(2),x=a(3),N=a(10),g=a(1),E=function(e){var t=e.element,a=Object(x.b)();return Object(g.jsxs)("div",{className:"after-each-row",children:[Object(g.jsx)("div",{className:t.active?"active":"",children:"".concat(t.firstName," ").concat(t.lastName)}),Object(g.jsxs)("div",{className:"radio-bar",children:[Object(g.jsxs)("label",{htmlFor:"active-radio-".concat(t.id),children:["Active",Object(g.jsx)("input",{id:"active-radio-".concat(t.id),type:"radio",name:t.lastName,checked:t.active,onChange:function(){var e;a((e=t.id,{type:j,payload:e}))}})]}),Object(g.jsxs)("label",{htmlFor:"not-active-radio-".concat(t.id),children:["Not Active",Object(g.jsx)("input",{id:"not-active-radio-".concat(t.id),type:"radio",name:t.lastName,checked:!t.active,onChange:function(){var e;a((e=t.id,{type:m,payload:e}))}})]})]})]})},S=c.a.memo(E,(function(e,t){return N.isEqual(e.element,t.element)})),U=function(e){var t=e.data,a=e.activeUsers,n=e.letter,r=c.a.useMemo((function(){return t.filter((function(e){return e.lastName.toLowerCase().startsWith(n.toLowerCase())})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)})).map((function(e){return Object(y.a)(Object(y.a)({},e),{},{active:a.includes(e.id)})}))}),[t,n,a]);return r.length?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"letter-style",children:n}),r.map((function(e){return Object(g.jsx)(S,{element:e},e.id)}))]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"letter-style",children:n}),Object(g.jsx)("div",{children:"-"})]})},w=function(e){var t=e.element;return Object(g.jsx)("div",{children:"".concat(t.firstName," ").concat(t.lastName)})},C=c.a.memo(w,(function(e,t){return N.isEqual(e.element,t.element)})),A=function(e){var t=e.month,a=e.data,n=c.a.useMemo((function(){return a.filter((function(e){return t===p[l(e.dob).month()]})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}))}),[a,t]);return n.length?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"month",children:t.toUpperCase()}),n.map((function(e){return Object(g.jsx)(C,{element:e},e.id)}))]}):null},k=function(){var e=Object(x.c)((function(e){return e.dataStorage})),t=e.data,a=e.activeUsers,n=c.a.useMemo((function(){return t.filter((function(e){return a.includes(e.id)}))}),[t,a]);return Object(g.jsxs)("div",{className:"sidebar",children:[Object(g.jsx)("div",{className:"info",children:n.length?"Employees birthday":"Employees List is empty"}),p.map((function(e){return Object(g.jsx)(A,{month:e,data:n},e)}))]})},I=function(){var e=n.useState(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(x.c)((function(e){return e.dataStorage})),i=r.data,o=r.activeUsers,l=Object(x.b)(),j=n.useCallback((function(){fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(e){l(function(e){return{type:d,payload:e}}(e)),c(!1)}))}),[l]);return n.useEffect((function(){j();var e,t=localStorage.getItem(f);t&&l((e=JSON.parse(t),{type:u,payload:e}))}),[j,l]),n.useEffect((function(){localStorage.setItem(f,JSON.stringify(o))}),[o]),a?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{className:"content",children:[v.map((function(e){return Object(g.jsx)(U,{letter:e,data:i,activeUsers:o},e)})),Object(g.jsx)(k,{})]})},T=a(9),_=a(14),J={data:[],activeUsers:[]},L=Object(_.b)(Object(_.a)(Object(T.a)({},b,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(y.a)(Object(y.a)({},e),{},{data:t.payload});case j:return Object(y.a)(Object(y.a)({},e),{},{activeUsers:Array.from(new Set([].concat(Object(o.a)(e.activeUsers),[t.payload])))});case m:return Object(y.a)(Object(y.a)({},e),{},{activeUsers:e.activeUsers.filter((function(e){return e!==t.payload}))});case u:return Object(y.a)(Object(y.a)({},e),{},{activeUsers:t.payload});default:return e}}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(x.a,{store:L,children:Object(g.jsx)(I,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.f9551251.chunk.js.map